# Проект: E-commerce (Электронная коммерция)

## Описание
Этот проект представляет собой упрощённую модель **системы для управления категориями и продуктами** с использованием Python.
Система загружает данные из JSON-файла, обрабатывает их и предоставляет возможность управлять категориями и продуктами, а также их атрибутами.

В проект добавлены:
- Метод `get_products` в классе `Category` для получения списка объектов продуктов.
- Улучшенный форматтер `products` для текстового представления списка продуктов.
- Возможность изменения цены продукта с проверкой через `input()`.
- Обновление продукта, если он уже существует, через метод `Product.new_product`.

## Структура проекта

### Основные классы:
1. **Category**
   - Представляет категории товаров.
   - Атрибуты:
      - `name`: Название категории.
      - `description`: Описание категории.
      - `products`: Приватный список объектов продуктов.
   - Методы:
      - `add_product(product: Product)`: Добавляет продукт в категорию.
      - `get_products()`: Возвращает список объектов продуктов.
      - Форматтер `products`: Возвращает список всех продуктов с форматированием.

2. **Product**
   - Представляет отдельный товар.
   - Атрибуты:
      - `name`: Название товара.
      - `description`: Описание товара.
      - `price`: Цена товара (есть геттеры и сеттеры с проверками).
      - `quantity`: Остаток товара на складе.
   - Методы:
      - `new_product()`: Создание или обновление уже существующего продукта.

### Основные файлы:
- `category.py` — реализация класса `Category`.
- `products.py` — реализация класса `Product`.
- `test_category.py` — тестирование логики категорий.
- `test_products.py` — тестирование логики продуктов.
- `main.py` — основной файл проекта для запуска логики на основе данных.

## Установка проекта
1. Клонируйте проект:
   ```bash
   git clone https://github.com/ваш-репозиторий/E_commerce.git
   cd E_commerce
   ```

2. Активируйте виртуальное окружение (опционально):
   ```bash
   python -m venv .venv
   source .venv/bin/activate   # Для Linux/MacOS
   .venv\Scripts\activate      # Для Windows
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Убедитесь, что тесты проходят успешно:
   ```bash
   pytest
   ```

## Работа с проектом
1. В файле **`main.py`** загружаются данные из файла JSON и демонстрируется работа с категориями и продуктами.
2. Вы можете запустить проект с помощью команды:
   ```bash
   python main.py
   ```

### Примеры использования

#### Получение списка продуктов из класса `Category`
```python
from src.category import Category
from src.products import Product

# Создаём категорию
category = Category(
    "Смартфоны",
    "Продвинутые устройства для общения и работ",
    products=[
        Product("Iphone 15", "Pro Max", 200000.0, 5),
        Product("Samsung Galaxy S23 Ultra", "256GB Серый", 180000.0, 3),
    ],
)

# Получение списка продуктов
product_list = category.get_products()
for product in product_list:
    print(f"{product.name}: {product.price} руб. Остаток: {product.quantity}")
```

#### Изменение цены продукта
```python
from src.products import Product

# Создаём объект продукта
product = Product("Iphone 15", "Pro Max", 200000.0, 5)

# Обновление цены
product.price = 180000.0  # Потребуется подтверждение через input()
```

## Тестирование
Для тестирования используется **pytest**. Поддерживаются следующие тесты:
1. Тестирование основных методов классов `Category` и `Product`.
2. Проверка корректного добавления/обновления продуктов.
3. Форматирование списка продуктов в категории.

Чтобы запустить тесты, выполните команду:
```bash
pytest
```

## Дополнительные проверки
Для проверки качества кода используйте **flake8**:
```bash
flake8 .
```

## Лицензия
Этот проект распространяется под свободной лицензией. Вы можете использовать его в образовательных и профессиональных целях.